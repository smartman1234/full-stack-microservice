{"Version":"0.5.6","Alloc":{"ID":"68ba564f-a10e-0281-cffd-2dec8bd3dd4d","EvalID":"09519372-7ebc-29a1-86ca-34250482aecc","Name":"lb.whoamis[1]","NodeID":"d3314d98-5d40-3cd8-98a4-f1dd46c20e03","JobID":"lb","Job":{"Region":"global","ID":"lb","ParentID":"","Name":"lb","Type":"service","Priority":50,"AllAtOnce":false,"Datacenters":["dc1"],"Constraints":null,"TaskGroups":[{"Name":"traefik","Count":1,"Constraints":null,"RestartPolicy":{"Attempts":2,"Interval":60000000000,"Delay":15000000000,"Mode":"delay"},"Tasks":[{"Name":"traefik","Driver":"docker","User":"","Config":{"dns_servers":["${attr.unique.network.ip-address}"],"image":"traefik:latest","port_map":[{"admin":8080,"frontend":80}],"volumes":["/var/run/docker.sock:/var/run/docker.sock","/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/conf/traefik.toml:/etc/traefik/traefik.toml"]},"Env":null,"Services":[{"Name":"traefik-admin","PortLabel":"admin","Tags":["loadbalancer","admin","traefik.enable=true"],"Checks":[{"Name":"service: \"traefik-admin\" check","Type":"tcp","Command":"","Args":null,"Path":"","Protocol":"","PortLabel":"admin","Interval":10000000000,"Timeout":2000000000,"InitialStatus":""}]},{"Name":"traefik-frontend","PortLabel":"frontend","Tags":["loadbalancer","frontend"],"Checks":[{"Name":"service: \"traefik-frontend\" check","Type":"tcp","Command":"","Args":null,"Path":"","Protocol":"","PortLabel":"frontend","Interval":10000000000,"Timeout":2000000000,"InitialStatus":""}]}],"Vault":null,"Templates":[],"Constraints":null,"Resources":{"CPU":200,"MemoryMB":200,"DiskMB":0,"IOPS":0,"Networks":[{"Device":"","CIDR":"","IP":"","MBits":50,"ReservedPorts":[{"Label":"frontend","Value":80}],"DynamicPorts":[{"Label":"admin","Value":0}]}]},"DispatchPayload":null,"Meta":null,"KillTimeout":5000000000,"LogConfig":{"MaxFiles":10,"MaxFileSizeMB":10},"Artifacts":[],"Leader":false}],"EphemeralDisk":{"Sticky":false,"SizeMB":300,"Migrate":false},"Meta":null},{"Name":"whoamis","Count":3,"Constraints":null,"RestartPolicy":{"Attempts":10,"Interval":60000000000,"Delay":5000000000,"Mode":"delay"},"Tasks":[{"Name":"backend","Driver":"docker","User":"","Config":{"image":"emilevauge/whoami","network_mode":"traefik:traefik-admin"},"Env":null,"Services":[{"Name":"whoami","PortLabel":"","Tags":["traefik.backend=whoami","traefik.frontend.rule=Host:docker.localhost","traefik.enable=true","traefik.frontend.entryPoints=http"],"Checks":null}],"Vault":null,"Templates":[],"Constraints":null,"Resources":{"CPU":200,"MemoryMB":200,"DiskMB":0,"IOPS":0,"Networks":null},"DispatchPayload":null,"Meta":null,"KillTimeout":5000000000,"LogConfig":{"MaxFiles":10,"MaxFileSizeMB":10},"Artifacts":[],"Leader":false}],"EphemeralDisk":{"Sticky":false,"SizeMB":500,"Migrate":false},"Meta":null}],"Update":{"Stagger":0,"MaxParallel":0},"Periodic":null,"ParameterizedJob":null,"Payload":null,"Meta":null,"VaultToken":"","Status":"running","StatusDescription":"","CreateIndex":86,"ModifyIndex":304,"JobModifyIndex":304},"TaskGroup":"whoamis","Resources":{"CPU":200,"MemoryMB":200,"DiskMB":500,"IOPS":0,"Networks":null},"SharedResources":{"CPU":0,"MemoryMB":0,"DiskMB":500,"IOPS":0,"Networks":null},"TaskResources":{"backend":{"CPU":200,"MemoryMB":200,"DiskMB":0,"IOPS":0,"Networks":null}},"Metrics":{"NodesEvaluated":1,"NodesFiltered":0,"NodesAvailable":{"dc1":1},"ClassFiltered":null,"ConstraintFiltered":null,"NodesExhausted":0,"ClassExhausted":null,"DimensionExhausted":null,"Scores":{"d3314d98-5d40-3cd8-98a4-f1dd46c20e03.binpack":3.482055866111864,"d3314d98-5d40-3cd8-98a4-f1dd46c20e03.job-anti-affinity":-60},"AllocationTime":33579,"CoalescedFailures":0},"DesiredStatus":"run","DesiredDescription":"","ClientStatus":"failed","ClientDescription":"","TaskStates":{"backend":{"State":"dead","Failed":true,"StartedAt":"0001-01-01T00:00:00Z","FinishedAt":"0001-01-01T00:00:00Z","Events":[{"Type":"Received","Time":1501402826629299893,"FailsTask":false,"RestartReason":"","SetupError":"","DriverError":"","ExitCode":0,"Signal":0,"Message":"","KillTimeout":0,"KillError":"","KillReason":"","StartDelay":0,"DownloadError":"","ValidationError":"","DiskLimit":0,"FailedSibling":"","VaultError":"","TaskSignalReason":"","TaskSignal":"","DriverMessage":""},{"Type":"Task Setup","Time":1501402826629751827,"FailsTask":false,"RestartReason":"","SetupError":"","DriverError":"","ExitCode":0,"Signal":0,"Message":"Building Task Directory","KillTimeout":0,"KillError":"","KillReason":"","StartDelay":0,"DownloadError":"","ValidationError":"","DiskLimit":0,"FailedSibling":"","VaultError":"","TaskSignalReason":"","TaskSignal":"","DriverMessage":""},{"Type":"Driver","Time":1501402826630701717,"FailsTask":false,"RestartReason":"","SetupError":"","DriverError":"","ExitCode":0,"Signal":0,"Message":"","KillTimeout":0,"KillError":"","KillReason":"","StartDelay":0,"DownloadError":"","ValidationError":"","DiskLimit":0,"FailedSibling":"","VaultError":"","TaskSignalReason":"","TaskSignal":"","DriverMessage":"Downloading image emilevauge/whoami:latest"},{"Type":"Driver Failure","Time":1501402831323745484,"FailsTask":false,"RestartReason":"","SetupError":"","DriverError":"failed to start task \"backend\" for alloc \"68ba564f-a10e-0281-cffd-2dec8bd3dd4d\": Failed to start container ca16b3b97b08066db34b976720aa52050abbdaceb62b4b7d8a3545e8a5c8c56f: API error (404): {\"message\":\"Could not attach to network traefik:traefik-admin: rpc error: code = 5 desc = network traefik:traefik-admin not found\"}\n","ExitCode":0,"Signal":0,"Message":"","KillTimeout":0,"KillError":"","KillReason":"","StartDelay":0,"DownloadError":"","ValidationError":"","DiskLimit":0,"FailedSibling":"","VaultError":"","TaskSignalReason":"","TaskSignal":"","DriverMessage":""},{"Type":"Not Restarting","Time":1501402831324436770,"FailsTask":true,"RestartReason":"Error was unrecoverable","SetupError":"","DriverError":"","ExitCode":0,"Signal":0,"Message":"","KillTimeout":0,"KillError":"","KillReason":"","StartDelay":0,"DownloadError":"","ValidationError":"","DiskLimit":0,"FailedSibling":"","VaultError":"","TaskSignalReason":"","TaskSignal":"","DriverMessage":""}]}},"PreviousAllocation":"0fa5a996-f505-1148-f2e2-fbe9fd3c4cbd","CreateIndex":306,"ModifyIndex":306,"AllocModifyIndex":306,"CreateTime":1501402821459497446},"AllocDir":{"AllocDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d","SharedDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/alloc","TaskDirs":{"backend":{"Dir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/backend","SharedAllocDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/alloc","SharedTaskDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/backend/alloc","LocalDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/backend/local","LogDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/alloc/logs","SecretsDir":"/Users/alextanhongpin/Documents/nodejs/full-stack-microservice/traefik/nomad/tmp/nomad/alloc/68ba564f-a10e-0281-cffd-2dec8bd3dd4d/backend/secrets"}}},"AllocClientStatus":"","AllocClientDescription":""}